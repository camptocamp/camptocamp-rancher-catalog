version: '2'
services:
  nextcloud:
    image: camptocamp/nextcloud:14.0.4-apache
    environment:
      POSTGRES_HOST: ${NEXTCLOUD_DB_HOST}
      POSTGRES_DB: ${NEXTCLOUD_DB_NAME}
      POSTGRES_USER: ${NEXTCLOUD_DB_USER}
      POSTGRES_PASSWORD: ${NEXTCLOUD_DB_PASSWORD}
      NEXTCLOUD_ADMIN_USER: ${NEXTCLOUD_ADMIN_USER}
      NEXTCLOUD_ADMIN_PASSWORD: ${NEXTCLOUD_ADMIN_PASSWORD}
      NEXTCLOUD_TRUSTED_DOMAINS: ${NEXTCLOUD_TRUSTED_DOMAINS}
      NEXTCLOUD_S3_BUCKET: ${NEXTCLOUD_S3_BUCKET}
      NEXTCLOUD_S3_KEY: ${NEXTCLOUD_S3_KEY}
      NEXTCLOUD_S3_SECRET: ${NEXTCLOUD_S3_SECRET}
      NEXTCLOUD_S3_SERVER: ${NEXTCLOUD_S3_SERVER}
      NEXTCLOUD_S3_PORT: ${NEXTCLOUD_S3_PORT}
      NEXTCLOUD_S3_USE_SSL: ${NEXTCLOUD_S3_USE_SSL}
      NEXTCLOUD_S3_REGION: ${NEXTCLOUD_S3_REGION}
      NEXTCLOUD_AUTH_BRUTEFORCE: ${NEXTCLOUD_AUTH_BRUTEFORCE}
    volumes:
      - nextcloud_data:/var/www/html

volumes:
  nextcloud_data:
